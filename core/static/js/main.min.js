/* coding: utf-8 gifboard 11-08-2016 */!function(a,b,c,d){function e(a){this.jsonConfig=f,this.board=a}var f={url:"/gifs.json",remainingCallTime:3e4};e.prototype.init=function(){this.getJson(this.jsonConfig)},e.prototype.getJson=function(b){var c=this;a.ajax({url:b.url,dataType:"json",success:function(a){var b=c.saveJson(a);b?c.board.updateImages():console.log("No image updates.")},error:function(a){console.log(a)},timeout:b.remainingCallTime})},e.prototype.saveJson=function(a){var b=localStorage.getItem("gifboard_images"),c=JSON.stringify(a),d=!1;return b!=c&&(localStorage.setItem("gifboard_images",c),d=!0),d},b.ImageFetcher=e}(jQuery,window,document),function(a,b,c,d){function e(a){this.container=a,this.father=a.find(".board__image.image--father"),this.child=a.find(".board__image.image--child"),this.images=[],this.childIndex=!1,this.fatherIndex=!1,this.config={animationInterval:8e3}}e.prototype.init=function(){this.updateImages(),this.renderImages(this),setInterval(this.renderImages,this.config.animationInterval,this)},e.prototype.parseImages=function(a){return JSON.parse(a)||[]},e.prototype.updateImages=function(){this.images=this.parseImages(localStorage.getItem("gifboard_images"))},e.prototype.renderImages=function(a){return a.updateImages(),images=a.images,images.length?(a.childIndex!==!1?(a.childIndex++,a.childIndex>=images.length&&(a.childIndex=0)):a.childIndex=a.randomInt(0,images.length-1),a.fatherIndex=a.childIndex+1,a.fatherIndex>=images.length&&(a.fatherIndex=0),a.child.css("background-image","url("+images[a.childIndex]+")"),void a.father.css("background-image","url("+images[a.fatherIndex]+")")):console.log("no images to be displayed!")},e.prototype.randomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},b.Board=e}(jQuery,window,document);var fetchInit=function(a){a.init()},main=function(){var a=new Board($("section.board"));a.init();var b=new ImageFetcher(a);fetchInit(b),setInterval(fetchInit,3e4,b)};$(main);